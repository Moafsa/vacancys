"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const authRoutes_1 = require("../authRoutes");
const emailRoutes_1 = require("../emailRoutes");
const userRoutes_1 = require("../userRoutes");
const profileRoutes_1 = require("../profileRoutes");
const UserService_1 = require("../../../../application/services/UserService");
const AuthService_1 = require("../../../../application/services/AuthService");
const EmailService_1 = require("../../../../application/services/EmailService");
const UserProfileService_1 = require("../../../../application/services/UserProfileService");
const UserRepository_1 = require("../../../repositories/UserRepository");
const UserProfileRepository_1 = require("../../../repositories/UserProfileRepository");
const EventEmitter_1 = require("../../../messaging/EventEmitter");
const router = (0, express_1.Router)();
const eventEmitter = new EventEmitter_1.EventEmitter();
const userRepository = new UserRepository_1.UserRepository();
const userProfileRepository = new UserProfileRepository_1.UserProfileRepository();
const userService = new UserService_1.UserService(userRepository, eventEmitter);
const authService = new AuthService_1.AuthService(userRepository);
const emailService = new EmailService_1.EmailService(userRepository);
const userProfileService = new UserProfileService_1.UserProfileService(userProfileRepository, userRepository);
const authRoutes = new authRoutes_1.AuthRoutes(authService, userRepository);
const emailRoutes = new emailRoutes_1.EmailRoutes(emailService, userRepository);
router.use('/auth', authRoutes.getRouter());
router.use('/email', emailRoutes.getRouter());
router.use('/users', (0, userRoutes_1.userRoutes)(userService, userRepository));
router.use('/profiles', (0, profileRoutes_1.profileRoutes)(userProfileService, userRepository, userProfileRepository));
exports.default = router;
//# sourceMappingURL=index.js.map